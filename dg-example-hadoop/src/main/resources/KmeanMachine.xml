<!-- Sample model for kmeans-->
<!-- No. of centroids = 5, Dimension of each point = 5-->
<!-- LOOP1 and LOOP2 decide the number of rows per centroid: 11*6 in this case -->
<!-- Total no. of rows generated by this model = 5*11*6 -->

<scxml xmlns="http://www.w3.org/2005/07/scxml"
       xmlns:cs="http://commons.apache.org/scxml"
       xmlns:dg="org.finra.datagenerator"
       version="1.0"
       initial="start">

    <state id="start">
        <transition event="SETV1" target="SETV1"/>
    </state>

    <state id="SETV1">
        <onentry>
            <dg:assign name="centroids" set="Vec0,Vec1,Vec2,Vec3,Vec4"/>
        </onentry>
        <transition event="LOOP1" target="LOOP1"/>
    </state>
    <state id="LOOP1">
    	<onentry>    
            <dg:range name="loop1" from="0" to="10" step="1"/>
        </onentry>
        <transition event="LOOP2" target="LOOP2"/>
    </state>    
    <state id="LOOP2"> 
        <onentry>
           <dg:range name="loop2" from="0" to="5" step="1"/>	
        </onentry>
        <transition event="SETV2" target="SETV2"/>
    </state>

    <state id="SETV2">
        <onentry>
            <assign name="feat1" expr="#{feat1}"/>
            <assign name="feat2" expr="#{feat2}"/>
            <assign name="feat3" expr="#{feat3}"/>
            <assign name="feat4" expr="#{feat4}"/>
            <assign name="feat5" expr="#{feat5}"/>
            <!--  <assign name="var_out_V3" expr="#{customplaceholder}"/> -->
        </onentry>
        <!-- <transition event="SETV3" target="SETV3"/> -->
        <transition event="end" target="end"/>
    </state>

    <!--<state id="SETV3">
        <onentry>
            <assign name="var_out_V4" expr="#{divideBy2}"/>
            <dg:range name="var_out_V5" from="0" to="100" step="1"/>
        </onentry>
        <transition event="end" target="end"/>
    </state> -->

    <state id="end">
        <!-- We're done -->
    </state>
</scxml>
