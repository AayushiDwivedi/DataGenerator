

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>SCXML Data Models &mdash; Data Generator 2.0 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Data Generator 2.0 documentation" href="index.html" />
    <link rel="next" title="DataConsumer" href="DataConsumer.html" />
    <link rel="prev" title="Hadoop Usage" href="Hadoop.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="DataConsumer.html" title="DataConsumer"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="Hadoop.html" title="Hadoop Usage"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Data Generator 2.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="scxml-data-models">
<h1>SCXML Data Models<a class="headerlink" href="#scxml-data-models" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>DataGenerator uses state machines defined in SCXML to produce output data. DataGenerator searches over the state machine to find all the paths from the start state to the end state, and commands encountered on a path from start to end define values for a set of variables, which composes a search result. These search results are processed afterward into the final output data.</p>
<div class="section" id="scxml-wrapper">
<h3>SCXML Wrapper<a class="headerlink" href="#scxml-wrapper" title="Permalink to this headline">¶</a></h3>
<p>All SCXML state machine models processable by DataGenerator require three elements:</p>
<div class="highlight-python"><pre>&lt;scxml xmlns="http://www.w3.org/2005/07/scxml" version="1.0" initial="start"&gt;

    &lt;state id="start"&gt;
        &lt;transition event="FIRST_REAL_STATE" target="FIRST_REAL_STATE"/&gt;
    &lt;/state&gt;

    &lt;state id="end"&gt;
    &lt;/state&gt;

&lt;/scxml&gt;</pre>
</div>
<ol class="arabic simple">
<li>The SCXML tag, including the name space, version number of 1.0 and an initial state</li>
<li>A start state the corresponds to the given initial state. We find it easiest to make the start state always be &#8220;start&#8221; and to have this filler start state transition to the real start state.</li>
<li>An end state, which must have the id of &#8220;end&#8221;</li>
</ol>
</div>
</div>
<div class="section" id="tags">
<h2>Tags<a class="headerlink" href="#tags" title="Permalink to this headline">¶</a></h2>
<p>SCXML has many tags that correspond to statements that control or define the state machine. Four are used by DataGenerator: state, onentry, assign, and transition.</p>
<div class="section" id="state">
<h3>State<a class="headerlink" href="#state" title="Permalink to this headline">¶</a></h3>
<p>The state statement simply defines a state in the state machine:</p>
<div class="highlight-python"><pre>&lt;state id="SOME_STATE"&gt;
&lt;/state&gt;</pre>
</div>
<p>The id of each state needs to be unique.</p>
</div>
<div class="section" id="onentry">
<h3>Onentry<a class="headerlink" href="#onentry" title="Permalink to this headline">¶</a></h3>
<p>The onentry statement defines what happens when a state is reached during the search over the state machine. Onentry statements must be nested inside a state statement with only one onentry statement per state statement.:</p>
<div class="highlight-python"><pre>&lt;state id="SOME_STATE"&gt;
    &lt;onentry&gt;
        &lt;assign ... /&gt;
        &lt;assign ... /&gt;
        &lt;assign ... /&gt;
    &lt;/onentry&gt;
&lt;/state&gt;</pre>
</div>
</div>
<div class="section" id="assign">
<h3>Assign<a class="headerlink" href="#assign" title="Permalink to this headline">¶</a></h3>
<p>The assign statement makes the search assign a value to a state machine variable. Assign statements must be nested within an onentry statement:</p>
<div class="highlight-python"><pre>&lt;onentry&gt;
    &lt;assign name="VARIABLE_NAME" expr="VARIABLE_ASSIGNMENT" /&gt;
&lt;/onentry&gt;</pre>
</div>
<p>&#8216;expr&#8217; can either be</p>
<ol class="arabic">
<li><p class="first">a text literal:</p>
<div class="highlight-python"><pre>&lt;assign name="var_Date" expr="9/9/2014" /&gt;</pre>
</div>
</li>
<li><p class="first">a text literal that represents a macro:</p>
<div class="highlight-python"><pre>&lt;assign name="var_Date" expr="currentDate" /&gt;</pre>
</div>
</li>
<li><p class="first">or a set assignment:</p>
<div class="highlight-python"><pre>&lt;assign name="var_Word" expr="set:{Lorem,Ipsum,Doler,Sit,Amet}" /&gt;</pre>
</div>
</li>
</ol>
<p>Text literals and text literals that represent a macro are the same as far as the state machine model and the search logic is concerned. The difference is handled by the DataConsumer and DataTransformers that perform post processing of search results. Set assignments assign to the variable one of the entries listed between the curly braces. During the search over the state machine, the search will search over all possible values of the set assignment, treating each as a separate path.</p>
<p>A state can have more than one assign statement, and all variables will be assigned. A state can also have more than one assign statement that uses a set, and when there are multiple set assignments every combination of possible assignments will be searched over.</p>
<p>Assign statements implicitly define the set of variables in a state machine. Any variable name used in an assign statement is a variable of the state machine, and any variable name not used is not. A variable can be assigned by more than one assign statement; later assign statements overwrite prior assign statements during the search. If a variable is defined by an assign statement, but the state with that assign statement is not reached during a search path, the variable will have the default value of &#8220;&#8221; in the search result.</p>
</div>
<div class="section" id="transition">
<h3>Transition<a class="headerlink" href="#transition" title="Permalink to this headline">¶</a></h3>
<p>Transitions connect states to one another and inform how the search over the state machine progresses. Transition statements require a target state and event. The state must be in the model and the event must be the same as the target state. A condition for the transition is optional.:</p>
<div class="highlight-python"><pre>&lt;state id="SOME_STATE"&gt;
    &lt;onentry&gt;
        &lt;assign ... /&gt;
        &lt;assign ... /&gt;
        &lt;assign ... /&gt;
    &lt;/onentry&gt;

    &lt;transition state="ASSIGN_NAME" event="ASSIGN_NAME" /&gt;
    &lt;transition state="ASSIGN_DATE" event="ASSIGN_DATE"
        cond="${var_1 != var_2 || var_Word == 'Lorem'}" /&gt;
&lt;/state&gt;</pre>
</div>
<p>Searches over the state machine will follow transitions from state to state, with the end state marking a completed search path. Transitions will only be followed if their condition evaluates to true or if the transition has no condition. The search will search over every valid transition, just as it searches over every combination of variable assignments when using set assignments.</p>
</div>
</div>
<div class="section" id="putting-it-all-together">
<h2>Putting it All Together<a class="headerlink" href="#putting-it-all-together" title="Permalink to this headline">¶</a></h2>
<p>The basic example page has a complete example of an SCXML state machine usable with DataGenerator.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">SCXML Data Models</a><ul>
<li><a class="reference internal" href="#overview">Overview</a><ul>
<li><a class="reference internal" href="#scxml-wrapper">SCXML Wrapper</a></li>
</ul>
</li>
<li><a class="reference internal" href="#tags">Tags</a><ul>
<li><a class="reference internal" href="#state">State</a></li>
<li><a class="reference internal" href="#onentry">Onentry</a></li>
<li><a class="reference internal" href="#assign">Assign</a></li>
<li><a class="reference internal" href="#transition">Transition</a></li>
</ul>
</li>
<li><a class="reference internal" href="#putting-it-all-together">Putting it All Together</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="Hadoop.html"
                        title="previous chapter">Hadoop Usage</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="DataConsumer.html"
                        title="next chapter">DataConsumer</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/SCXMLDataModels.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="DataConsumer.html" title="DataConsumer"
             >next</a> |</li>
        <li class="right" >
          <a href="Hadoop.html" title="Hadoop Usage"
             >previous</a> |</li>
        <li><a href="index.html">Data Generator 2.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, DataGenerator Contributors.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>