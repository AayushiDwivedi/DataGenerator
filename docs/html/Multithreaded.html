

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Multithreaded Usage &mdash; Data Generator 2.0 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Data Generator 2.0 documentation" href="index.html" />
    <link rel="next" title="Hadoop Usage" href="Hadoop.html" />
    <link rel="prev" title="Example: Eight Lonely Rooks" href="BasicExample.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="Hadoop.html" title="Hadoop Usage"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="BasicExample.html" title="Example: Eight Lonely Rooks"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Data Generator 2.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="multithreaded-usage">
<h1>Multithreaded Usage<a class="headerlink" href="#multithreaded-usage" title="Permalink to this headline">¶</a></h1>
<p>There are three steps to use DataGenerator in multithreaded mode with an SCXML Model.</p>
<ol class="arabic simple">
<li>Instantiate and configure an SCXMLEngine.</li>
<li>Instantiate and configure a DefaultDistributor.</li>
<li>Have the SCXMLEngine process(SearchDistributor distributor) with the DefaultDistributor.</li>
</ol>
<div class="section" id="scxmlengine">
<h2>SCXMLEngine<a class="headerlink" href="#scxmlengine" title="Permalink to this headline">¶</a></h2>
<p>SCXMLEngine performs the initial breadth first search on ones state machine to help bootstrap further depth first searching. To configure the SCXMLEngine one needs to set the state machine and the desired amount of bootstrapping. Bootstrapping results are stored into instances of SCXMLFrontier, which implements the Frontier interface, and are passed by the process(SearchDistributor distributor) method to the DefaultDistributor.</p>
<div class="section" id="set-the-state-machine">
<h3>Set the State Machine<a class="headerlink" href="#set-the-state-machine" title="Permalink to this headline">¶</a></h3>
<p>State machines need to be in the SCXML format and can be set with the SCXMLEngine methods setModelByInputFileStream(InputStream inputFileStream) or setModelByText(String model).</p>
</div>
<div class="section" id="set-the-desired-bootstrapping">
<h3>Set the Desired Bootstrapping<a class="headerlink" href="#set-the-desired-bootstrapping" title="Permalink to this headline">¶</a></h3>
<p>The desired amount of bootstrapping is set with the SCXMLEngine method setBootstrapMin(int min). As the method name implies, it is the minimum amount of bootstrapping the SCXMLEngine will produce. The engine will try to produce the smallest amount of bootstrapping greater than or equal to the desired bootstrapping, but the SCXMLEngine can produce more.</p>
</div>
</div>
<div class="section" id="defaultdistributor">
<h2>DefaultDistributor<a class="headerlink" href="#defaultdistributor" title="Permalink to this headline">¶</a></h2>
<p>DefaultDistributor oversees the subsequent depth first search on ones state machine, using SearchWorker threads to run the depth first search in parallel, each processing a Frontier produced by the SCXMLEngine. To configure the DefaultDistributor one needs to set the DataConsumer, the desired number of output lines to write, and the desired number of SearchWorker threads to use.</p>
<div class="section" id="set-the-dataconsumer">
<h3>Set the DataConsumer<a class="headerlink" href="#set-the-dataconsumer" title="Permalink to this headline">¶</a></h3>
<p>The DataConsumer handles final processing of the results produced from the depth first searching and handles the actual writing of output. The desired DataConsumer to use with the DefaultDistributor is set with the DefaultDistributor method setDataConsumer(DataConsumer dataConsumer). The page on DataConsumers, DataWriters, and DataTransformers explains how to configure the DataConsumer itself.</p>
</div>
<div class="section" id="set-the-desired-number-of-output-lines">
<h3>Set the Desired Number of Output Lines<a class="headerlink" href="#set-the-desired-number-of-output-lines" title="Permalink to this headline">¶</a></h3>
<p>The desired amount of bootstrapping is set with the DefaultDistributor method setMaxNumberOfLines(long numberOfLines).</p>
</div>
<div class="section" id="set-the-desired-number-of-searchworkers">
<h3>Set the Desired Number of SearchWorkers<a class="headerlink" href="#set-the-desired-number-of-searchworkers" title="Permalink to this headline">¶</a></h3>
<p>The desired amount of SearchWorker threads is set with the DefaultDistributor methodsetThreadCount(int threadCount). The number of SearchWorker threads used does not have to be same as the requested bootstrap amount. Individual SearchWorker threads can process more than one Frontier, searching a new Frontier when finished with their current one. One SearchWorker thread can handle an arbitrary amount of Frontiers if needed.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Multithreaded Usage</a><ul>
<li><a class="reference internal" href="#scxmlengine">SCXMLEngine</a><ul>
<li><a class="reference internal" href="#set-the-state-machine">Set the State Machine</a></li>
<li><a class="reference internal" href="#set-the-desired-bootstrapping">Set the Desired Bootstrapping</a></li>
</ul>
</li>
<li><a class="reference internal" href="#defaultdistributor">DefaultDistributor</a><ul>
<li><a class="reference internal" href="#set-the-dataconsumer">Set the DataConsumer</a></li>
<li><a class="reference internal" href="#set-the-desired-number-of-output-lines">Set the Desired Number of Output Lines</a></li>
<li><a class="reference internal" href="#set-the-desired-number-of-searchworkers">Set the Desired Number of SearchWorkers</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="BasicExample.html"
                        title="previous chapter">Example: Eight Lonely Rooks</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="Hadoop.html"
                        title="next chapter">Hadoop Usage</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/Multithreaded.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="Hadoop.html" title="Hadoop Usage"
             >next</a> |</li>
        <li class="right" >
          <a href="BasicExample.html" title="Example: Eight Lonely Rooks"
             >previous</a> |</li>
        <li><a href="index.html">Data Generator 2.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, DataGenerator Contributors.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>